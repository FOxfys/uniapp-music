# 开发进度日志

**日期**: 2023-XX-XX
**状态**: 核心功能开发完毕，进入细节完善阶段

## ✅ 今天完成的功能

1.  **项目架构搭建**
    *   完成 `src/api` (request, music, auth, playlist) 封装。
    *   完成 `src/store` (player, user) 状态管理，特别是 `player.js` 的重构。
    *   完成 `src/utils` 工具类。

2.  **核心页面开发**
    *   **首页**: 轮播图、推荐歌单、搜索入口。
    *   **排行榜**: 四大榜单展示与跳转。
    *   **搜索页**: 搜索功能、历史记录(UI待完善)、播放列表同步。
    *   **歌单详情页**: 歌单信息展示、播放全部、单曲播放。
    *   **音乐解析页**: 粘贴链接解析、音频可视化动效(CSS模拟)。
    *   **登录/注册页**: 基础 UI 与逻辑打通。

3.  **全局播放器 (重难点)**
    *   实现了 **悬浮球 (Widget)** 方案：全局悬浮、可拖动、带发光动效、位置记忆。
    *   解决了悬浮窗消失、点击不灵敏等交互问题。
    *   实现了 **后台播放** 能力 (`uni.getBackgroundAudioManager`)。

4.  **全屏播放页**
    *   **UI**: 高斯模糊背景、旋转封面、自定义导航栏。
    *   **交互**: 点击封面/歌词互切、分页指示点。
    *   **功能**: 
        *   进度条拖拽 (Seek)。
        *   播放模式切换 (顺序/单曲/随机)。
        *   **歌词同步显示**: 修复了接口数据结构不兼容问题，实现了歌词解析与滚动高亮。

## 🚧 待办事项 (Next Steps)

1.  **"我的" 页面完善**
    *   实现 "播放历史" 列表 (API 已有 `getPlayHistory`)。
    *   实现 "创建歌单" 功能。
2.  **解析页功能**
    *   目前解析页仅能播放，尚未实现 "下载" 和 "收藏到歌单" 功能。
3.  **UI 细节优化**
    *   检查各页面在不同机型下的适配情况。
    *   补充缺失的图标 (如 TabBar 图标需用户自行替换)。

## 📝 备注
*   后端接口地址已配置为: `https://music.686909.xyz`
*   歌词接口已做暴力兼容，支持多种返回格式。
